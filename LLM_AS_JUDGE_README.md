# LLM-as-Judge: –≠–∫—Å–ø–µ—Ä–∏–º–µ–Ω—Ç —Å Qwen 14B

## –ß—Ç–æ —Å–¥–µ–ª–∞–Ω–æ

–°–æ–∑–¥–∞–Ω –ø—Ä–æ—Ç–æ—Ç–∏–ø **LLM-as-Judge** –¥–ª—è –æ—Ü–µ–Ω–∫–∏ —Ä–µ–ª–µ–≤–∞–Ω—Ç–Ω–æ—Å—Ç–∏ –Ω–æ–≤–æ—Å—Ç–µ–π - –∞–ª—å—Ç–µ—Ä–Ω–∞—Ç–∏–≤–∞ LTR –º–æ–¥–µ–ª–∏.

## –†–µ–∑—É–ª—å—Ç–∞—Ç—ã

### –ë–∞–∑–æ–≤—ã–π –ø—Ä–æ—Ç–æ—Ç–∏–ø (llm_as_judge_prototype.py)
- **–ú–µ—Ç–æ–¥**: Few-shot prompting (4 –ø—Ä–∏–º–µ—Ä–∞)
- **–†–µ–∑—É–ª—å—Ç–∞—Ç—ã –Ω–∞ —Ç–µ—Å—Ç–æ–≤—ã—Ö –¥–∞–Ω–Ω—ã—Ö**: **100% —Ç–æ—á–Ω–æ—Å—Ç—å** (4/4)
- **–†–µ–∑—É–ª—å—Ç–∞—Ç—ã –Ω–∞ —Ä–µ–∞–ª—å–Ω—ã—Ö –¥–∞–Ω–Ω—ã—Ö**: **45% —Ç–æ—á–Ω–æ—Å—Ç—å** (9/20)

**–ü—Ä–æ–±–ª–µ–º–∞**: –ú–æ–¥–µ–ª—å —Å–∏—Å—Ç–µ–º–∞—Ç–∏—á–µ—Å–∫–∏ –∑–∞–Ω–∏–∂–∞–µ—Ç –æ—Ü–µ–Ω–∫–∏
- –ò–∑ 16 –ø—Ä–∏–º–µ—Ä–æ–≤ —Å label=3: –ø—Ä–∞–≤–∏–ª—å–Ω–æ —É–≥–∞–¥–∞–ª–∞ —Ç–æ–ª—å–∫–æ 6 (38%)
- –û—Å—Ç–∞–ª—å–Ω—ã–µ 10 –æ—Ü–µ–Ω–∏–ª–∞ –∫–∞–∫ 2 –≤–º–µ—Å—Ç–æ 3 (–∑–∞–Ω–∏–∂–µ–Ω–∏–µ –Ω–∞ 1 –±–∞–ª–ª)

**–ù–æ**:
- –¢–æ—á–Ω–æ—Å—Ç—å ¬±1: **100%** (–≤—Å–µ –æ—à–∏–±–∫–∏ - –≤ –ø—Ä–µ–¥–µ–ª–∞—Ö 1 –±–∞–ª–ª–∞)
- –î–ª—è —Ä–∞–Ω–∂–∏—Ä–æ–≤–∞–Ω–∏—è —ç—Ç–æ –ø—Ä–∏–µ–º–ª–µ–º–æ - –≥–ª–∞–≤–Ω–æ–µ –Ω–µ –ø—É—Ç–∞—Ç—å —Ä–µ–ª–µ–≤–∞–Ω—Ç–Ω–æ–µ —Å –Ω–µ—Ä–µ–ª–µ–≤–∞–Ω—Ç–Ω—ã–º
- –ú–æ–¥–µ–ª—å –ù–ï –¥–µ–ª–∞–µ—Ç –≥—Ä—É–±—ã—Ö –æ—à–∏–±–æ–∫ —Ç–∏–ø–∞ 3‚Üí0

### DSPy –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è (llm_judge_with_dspy.py)
- **–ú–µ—Ç–æ–¥**: –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∞—è –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è –ø—Ä–æ–º–ø—Ç–æ–≤ —á–µ—Ä–µ–∑ DSPy + BootstrapFewShot
- **–°—Ç–∞—Ç—É—Å**: ‚ùå –ù–µ —Ä–∞–±–æ—Ç–∞–µ—Ç —Å LM Studio
- **–ü—Ä–∏—á–∏–Ω–∞**: DSPy —Ç—Ä–µ–±—É–µ—Ç `response_format.type: json_schema`, —á—Ç–æ –Ω–µ –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ—Ç—Å—è LM Studio API

**–ß—Ç–æ —É–≤–∏–¥–µ–ª–∏**:
DSPy –≥–µ–Ω–µ—Ä–∏—Ä—É–µ—Ç –ø—Ä–æ–º–ø—Ç —Å **Chain of Thought** - –º–æ–¥–µ–ª—å —Å–Ω–∞—á–∞–ª–∞ —Ä–∞—Å—Å—É–∂–¥–∞–µ—Ç, –ø–æ—Ç–æ–º –¥–∞–µ—Ç –æ—Ü–µ–Ω–∫—É:

```
[[ ## reasoning ## ]]
–ù–æ–≤–æ—Å—Ç—å –Ω–∞–ø—Ä—è–º—É—é –æ—Ç–≤–µ—á–∞–µ—Ç –Ω–∞ –∑–∞–ø—Ä–æ—Å, —Å–æ–¥–µ—Ä–∂–∏—Ç –∫–ª—é—á–µ–≤—ã–µ —Å–ª–æ–≤–∞.

[[ ## relevance_score ## ]]
3
```

### –í–µ—Ä—Å–∏—è 2 —Å Chain of Thought (llm_judge_v2_with_cot.py)
- **–ú–µ—Ç–æ–¥**: –í–∑—è–ª–∏ –∏–¥–µ—é CoT –∏–∑ DSPy, –Ω–æ —Ä–µ–∞–ª–∏–∑–æ–≤–∞–ª–∏ –±–µ–∑ –Ω–µ–≥–æ
- **–°—Ç–∞—Ç—É—Å**: –ì–æ—Ç–æ–≤ –∫ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—é (–ø–æ—Å–ª–µ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏—è model="qwen3-14b")

## –§–∞–π–ª—ã

1. **llm_as_judge_prototype.py** - –ë–∞–∑–æ–≤—ã–π –ø—Ä–æ—Ç–æ—Ç–∏–ø with few-shot
2. **evaluate_llm_judge.py** - –û—Ü–µ–Ω–∫–∞ –Ω–∞ —Ä–µ–∞–ª—å–Ω—ã—Ö –¥–∞–Ω–Ω—ã—Ö
3. **llm_judge_with_dspy.py** - DSPy –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è (–Ω–µ —Ä–∞–±–æ—Ç–∞–µ—Ç —Å LM Studio)
4. **llm_judge_v2_with_cot.py** - –í–µ—Ä—Å–∏—è —Å Chain of Thought (—Ä—É—á–Ω–∞—è —Ä–µ–∞–ª–∏–∑–∞—Ü–∏—è)

## –í—ã–≤–æ–¥—ã

### –ü–ª—é—Å—ã LLM-as-Judge:
1. **–ò–Ω—Ç–µ—Ä–ø—Ä–µ—Ç–∏—Ä—É–µ–º–æ—Å—Ç—å** - –º–æ–¥–µ–ª—å –º–æ–∂–µ—Ç –æ–±—ä—è—Å–Ω–∏—Ç—å –æ—Ü–µ–Ω–∫—É
2. **–ì–∏–±–∫–æ—Å—Ç—å** - –ª–µ–≥–∫–æ –º–µ–Ω—è—Ç—å –∫—Ä–∏—Ç–µ—Ä–∏–∏ –æ—Ü–µ–Ω–∫–∏ (–ø—Ä–æ—Å—Ç–æ –ø–æ–º–µ–Ω—è—Ç—å –ø—Ä–æ–º–ø—Ç)
3. **–ù–µ —Ç—Ä–µ–±—É–µ—Ç –ø–µ—Ä–µ–æ–±—É—á–µ–Ω–∏—è** - –¥–æ—Å—Ç–∞—Ç–æ—á–Ω–æ few-shot –ø—Ä–∏–º–µ—Ä–æ–≤
4. **–†–∞–±–æ—Ç–∞–µ—Ç out-of-the-box** - 45% —Ç–æ—á–Ω–æ—Å—Ç–∏ –±–µ–∑ –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏–∏

### –ú–∏–Ω—É—Å—ã:
1. **–ú–µ–¥–ª–µ–Ω–Ω–æ** - ~3-5 —Å–µ–∫—É–Ω–¥ –Ω–∞ –æ—Ü–µ–Ω–∫—É (vs <1–º—Å –¥–ª—è LTR)
2. **–¢—Ä–µ–±—É–µ—Ç –º–æ—â–Ω—ã–π GPU** - –Ω—É–∂–Ω–∞ 14B –º–æ–¥–µ–ª—å
3. **–ù–µ—Å—Ç–∞–±–∏–ª—å–Ω–æ** - –∏–Ω–æ–≥–¥–∞ –Ω–µ –º–æ–∂–µ—Ç —Ä–∞—Å–ø–∞—Ä—Å–∏—Ç—å –æ—Ç–≤–µ—Ç
4. **–ö–æ–Ω—Å–µ—Ä–≤–∞—Ç–∏–≤–Ω–æ—Å—Ç—å** - –∑–∞–Ω–∏–∂–∞–µ—Ç –æ—Ü–µ–Ω–∫–∏ (–Ω–æ —ç—Ç–æ –º–æ–∂–Ω–æ –∏—Å–ø—Ä–∞–≤–∏—Ç—å –ø—Ä–æ–º–ø—Ç–æ–º)

### vs LTR –º–æ–¥–µ–ª—å:

| –•–∞—Ä–∞–∫—Ç–µ—Ä–∏—Å—Ç–∏–∫–∞ | LLM-as-Judge | LTR (LightGBM) |
|---|---|---|
| –°–∫–æ—Ä–æ—Å—Ç—å | 3-5 —Å–µ–∫ | <1 –º—Å |
| –¢–æ—á–Ω–æ—Å—Ç—å | 45% (¬±1: 100%) | ~90%+ |
| –ò–Ω—Ç–µ—Ä–ø—Ä–µ—Ç–∏—Ä—É–µ–º–æ—Å—Ç—å | –í—ã—Å–æ–∫–∞—è | –°—Ä–µ–¥–Ω—è—è |
| –¢—Ä–µ–±—É–µ—Ç GPU | –î–∞ (14B) | –ù–µ—Ç |
| –ì–∏–±–∫–æ—Å—Ç—å | –û—á–µ–Ω—å –≤—ã—Å–æ–∫–∞—è | –ù–∏–∑–∫–∞—è |
| –ü–µ—Ä–µ–æ–±—É—á–µ–Ω–∏–µ | –ù–µ —Ç—Ä–µ–±—É–µ—Ç—Å—è | –¢—Ä–µ–±—É–µ—Ç—Å—è |

## –†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏

### –ö–æ–≥–¥–∞ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å LLM-as-Judge:
- **–ò—Å—Å–ª–µ–¥–æ–≤–∞–Ω–∏—è –∏ —ç–∫—Å–ø–µ—Ä–∏–º–µ–Ω—Ç—ã** - –±—ã—Å—Ç—Ä–æ –ø–æ–ø—Ä–æ–±–æ–≤–∞—Ç—å –Ω–æ–≤—ã–µ –∫—Ä–∏—Ç–µ—Ä–∏–∏
- **–ú–∞–ª—ã–µ –æ–±—ä–µ–º—ã –¥–∞–Ω–Ω—ã—Ö** - –∫–æ–≥–¥–∞ –Ω–µ—Ç 100+ —Ä–∞–∑–º–µ—á–µ–Ω–Ω—ã—Ö –ø—Ä–∏–º–µ—Ä–æ–≤ –¥–ª—è LTR
- **–ù—É–∂–Ω—ã –æ–±—ä—è—Å–Ω–µ–Ω–∏—è** - –¥–ª—è –¥–µ–±–∞–≥–≥–∏–Ω–≥–∞ –∏ –∞–Ω–∞–ª–∏–∑–∞
- **–•–æ–ª–æ–¥–Ω—ã–π —Å—Ç–∞—Ä—Ç** - –∫–æ–≥–¥–∞ –µ—â–µ –Ω–µ—Ç –æ–±—É—á–µ–Ω–Ω–æ–π LTR –º–æ–¥–µ–ª–∏

### –ö–æ–≥–¥–∞ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å LTR:
- **–ü—Ä–æ–¥–∞–∫—à–Ω** - –∫–æ–≥–¥–∞ –Ω—É–∂–Ω–∞ —Å–∫–æ—Ä–æ—Å—Ç—å –∏ —Å—Ç–∞–±–∏–ª—å–Ω–æ—Å—Ç—å
- **–ë–æ–ª—å—à–∏–µ –æ–±—ä–µ–º—ã** - —Ç—ã—Å—è—á–∏ –∑–∞–ø—Ä–æ—Å–æ–≤ –≤ —Å–µ–∫—É–Ω–¥—É
- **–ï—Å—Ç—å –¥–∞–Ω–Ω—ã–µ** - 100+ —Ä–∞–∑–º–µ—á–µ–Ω–Ω—ã—Ö –ø—Ä–∏–º–µ—Ä–æ–≤
- **–ö—Ä–∏—Ç–∏—á–Ω–∞ –ª–∞—Ç–µ–Ω—Ç–Ω–æ—Å—Ç—å** - –Ω—É–∂–µ–Ω –æ—Ç–≤–µ—Ç <100–º—Å

## –ì–∏–±—Ä–∏–¥–Ω—ã–π –ø–æ–¥—Ö–æ–¥ (–ª—É—á—à–µ–µ –∏–∑ –æ–±–æ–∏—Ö –º–∏—Ä–æ–≤)

```
–ü–æ–∏—Å–∫ ‚Üí BGE-M3 (top-100) ‚Üí LTR rerank (top-20) ‚Üí LLM-as-Judge (top-3)
                                                      ‚Üì
                                              –û–±—ä—è—Å–Ω–µ–Ω–∏–µ + confidence
```

**–ò–¥–µ—è**:
1. LTR –±—ã—Å—Ç—Ä–æ –ø–µ—Ä–µ—Ä–∞–Ω–∂–∏—Ä—É–µ—Ç 100 ‚Üí 20
2. LLM –¥–∞–µ—Ç —Ñ–∏–Ω–∞–ª—å–Ω—É—é –æ—Ü–µ–Ω–∫—É —Ç–æ–ª—å–∫–æ top-3 + –æ–±—ä—è—Å–Ω–µ–Ω–∏–µ
3. –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –≤–∏–¥–∏—Ç –Ω–µ —Ç–æ–ª—å–∫–æ —Ä–µ–∑—É–ª—å—Ç–∞—Ç—ã, –Ω–æ –∏ **–ø–æ—á–µ–º—É** –æ–Ω–∏ —Ä–µ–ª–µ–≤–∞–Ω—Ç–Ω—ã

## –°–ª–µ–¥—É—é—â–∏–µ —à–∞–≥–∏

1. –ò—Å–ø—Ä–∞–≤–∏—Ç—å `model="qwen"` ‚Üí `model="qwen3-14b"` –≤–æ –≤—Å–µ—Ö —Å–∫—Ä–∏–ø—Ç–∞—Ö
2. –ü—Ä–æ—Ç–µ—Å—Ç–∏—Ä–æ–≤–∞—Ç—å Chain of Thought (v2)
3. –ü–æ–ø—Ä–æ–±–æ–≤–∞—Ç—å –¥—Ä—É–≥–∏–µ –º–æ–¥–µ–ª–∏ (qwen2.5-coder-14b, gemma-3-27b)
4. –°—Ä–∞–≤–Ω–∏—Ç—å CoT vs –ø—Ä–æ—Å—Ç–æ–π –ø—Ä–æ–º–ø—Ç
5. –û–ø—Ç–∏–º–∏–∑–∏—Ä–æ–≤–∞—Ç—å –ø—Ä–æ–º–ø—Ç –≤—Ä—É—á–Ω—É—é (—Å–¥–µ–ª–∞—Ç—å –º–æ–¥–µ–ª—å "—Å–º–µ–ª–µ–µ")

## –¢–µ–º–ø–µ—Ä–∞—Ç—É—Ä–∞ —ç–∫—Å–ø–µ—Ä–∏–º–µ–Ω—Ç–∞: –≤—ã—Å–æ–∫–∞—è! üî•

Qwen 14B **—Å–ø—Ä–∞–≤–∏–ª—Å—è** —Å –∑–∞–¥–∞—á–µ–π –±–µ–∑ –¥–æ–æ–±—É—á–µ–Ω–∏—è! –î–∞–∂–µ —Å 45% —Ç–æ—á–Ω–æ—Å—Ç–∏ —ç—Ç–æ –≤–ø–µ—á–∞—Ç–ª—è—é—â–µ –¥–ª—è zero-shot (—Ç–µ—Ö–Ω–∏—á–µ—Å–∫–∏ few-shot —Å 4 –ø—Ä–∏–º–µ—Ä–∞–º–∏). –° Chain of Thought –∏ –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏–µ–π –ø—Ä–æ–º–ø—Ç–∞ –º–æ–∂–Ω–æ –¥–æ—Å—Ç–∏—á—å 60-70%.

–ù–æ –¥–ª—è –ø—Ä–æ–¥–∞–∫—à–Ω–∞ LTR –≤—Å–µ –µ—â–µ –ª—É—á—à–µ. –ê –≤–æ—Ç –¥–ª—è –∞–Ω–∞–ª–∏–∑–∞ –∏ —ç–∫—Å–ø–µ—Ä–∏–º–µ–Ω—Ç–æ–≤ - LLM-as-Judge –æ—á–µ–Ω—å –ø–æ–ª–µ–∑–µ–Ω!
